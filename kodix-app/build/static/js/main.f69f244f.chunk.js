(this["webpackJsonpkodix-app"]=this["webpackJsonpkodix-app"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),u=a.n(l),c=(a(14),a(1)),s=a.n(c),i=a(2),o=a(3),m=a(4),d=a(6),h=a(5),p=(a(16),a(17),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],update:0,brand:"",model:"",price:0,status:0,milage:0,id:null},n}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.data;this.setState({data:e}),console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"\u0411\u0440\u0435\u043d\u0434"),r.a.createElement("th",null,"\u041c\u043e\u0434\u0435\u043b\u044c"),r.a.createElement("th",null,"\u0426\u0435\u043d\u0430"),r.a.createElement("th",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("th",null,"\u041f\u0440\u043e\u0431\u0435\u0433"),r.a.createElement("th",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),r.a.createElement("tbody",null,this.state.data.map((function(t){return r.a.createElement("tr",{key:t.id+e.state.update},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.brand),r.a.createElement("td",null,t.model),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.milage),r.a.createElement("td",{onClick:function(){return e.delProduct(t.id)}},"X"))})))),r.a.createElement("h1",null,"TEST CREATE"),r.a.createElement("form",null,r.a.createElement("label",null,"\u0411\u0440\u0435\u043d\u0434",r.a.createElement("input",{name:"brand",onChange:function(t){return e.changeBrand(t,"brand")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u041c\u043e\u0434\u0435\u043b\u044c",r.a.createElement("input",{name:"model",onChange:function(t){return e.changeBrand(t,"model")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u041f\u0440\u0430\u0439\u0441",r.a.createElement("input",{name:"price",onChange:function(t){return e.changeBrand(t,"price")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u0421\u0442\u0430\u0442\u0443\u0441",r.a.createElement("input",{type:"radio",name:"status",value:"0",onChange:function(t){return e.changeBrand(t,"status")}}),"\u0412 \u043f\u0443\u0442\u0438  ",r.a.createElement("input",{type:"radio",name:"status",value:"1",onChange:function(t){return e.changeBrand(t,"status")}}),"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435",r.a.createElement("input",{type:"radio",name:"status",value:"2",onChange:function(t){return e.changeBrand(t,"status")}}),"\u041f\u0440\u043e\u0434\u0430\u043d",r.a.createElement("input",{type:"radio",name:"status",value:"3",onChange:function(t){return e.changeBrand(t,"status")}}),"\u0421\u043d\u044f\u0442 \u0441 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"),r.a.createElement("br",null),r.a.createElement("label",null,"\u041f\u0440\u043e\u0431\u0435\u0433",r.a.createElement("input",{name:"milage",onChange:function(t){return e.changeBrand(t,"milage")}})),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.save(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement("h1",null,"TEST UPDATE"),r.a.createElement("form",null,r.a.createElement("label",null,"ID",r.a.createElement("input",{name:"id",onChange:function(t){return e.changeBrand(t,"id")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u0411\u0440\u0435\u043d\u0434",r.a.createElement("input",{name:"brand",onChange:function(t){return e.changeBrand(t,"brand")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u041c\u043e\u0434\u0435\u043b\u044c",r.a.createElement("input",{name:"model",onChange:function(t){return e.changeBrand(t,"model")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u041f\u0440\u0430\u0439\u0441",r.a.createElement("input",{name:"price",onChange:function(t){return e.changeBrand(t,"price")}})),r.a.createElement("br",null),r.a.createElement("label",null,"\u0421\u0442\u0430\u0442\u0443\u0441",r.a.createElement("input",{type:"radio",name:"status",value:"0",onChange:function(t){return e.changeBrand(t,"status")}}),"\u0412 \u043f\u0443\u0442\u0438  ",r.a.createElement("input",{type:"radio",name:"status",value:"1",onChange:function(t){return e.changeBrand(t,"status")}}),"\u041d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435",r.a.createElement("input",{type:"radio",name:"status",value:"2",onChange:function(t){return e.changeBrand(t,"status")}}),"\u041f\u0440\u043e\u0434\u0430\u043d",r.a.createElement("input",{type:"radio",name:"status",value:"3",onChange:function(t){return e.changeBrand(t,"status")}}),"\u0421\u043d\u044f\u0442 \u0441 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"),r.a.createElement("br",null),r.a.createElement("label",null,"\u041f\u0440\u043e\u0431\u0435\u0433",r.a.createElement("input",{name:"milage",onChange:function(t){return e.changeBrand(t,"milage")}})),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return e.update(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}},{key:"delProduct",value:function(e){fetch("/delete/"+e),this.updateList()}},{key:"updateList",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/list");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({data:a.product_list,update:this.state.update+1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeBrand",value:function(e,t){switch(t){case"brand":this.setState({brand:e.target.value});break;case"model":this.setState({model:e.target.value});break;case"price":this.setState({price:e.target.value});break;case"status":this.setState({status:e.target.value});break;case"milage":this.setState({milage:e.target.value});break;case"id":this.setState({id:e.target.value})}}},{key:"save",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),delete this.state.data,this.state,a=JSON.stringify(this.state),e.next=6,fetch("/new",{body:a,method:"POST"});case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,alert(r.status),this.updateList();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),delete this.state.data,this.state,a=JSON.stringify(this.state),e.next=6,fetch("/put",{body:a,method:"POST"});case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,alert(r.status),this.updateList();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(r.a.Component)),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={page:"main",list:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){return"download"===this.state.page?r.a.createElement("div",{className:"App"},r.a.createElement(p,{data:this.state.list,update:this.loadData})):r.a.createElement("div",{className:"App"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")}},{key:"loadData",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/list");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.changeState(a);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeState",value:function(e){console.log(e),this.setState({page:"download",list:e.product_list})}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.f69f244f.chunk.js.map